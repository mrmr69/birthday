<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins&display=swap" rel="stylesheet">
  <title>For My Special Maryem</title>
  <style>
  
/* Base Styles */
body {
  margin: 0;
  padding: 0;
  font-family: 'Poppins', sans-serif;
  color: #5a3d3d;
  min-height: 100vh;
  overflow-x: hidden;
  background: url('maybe.jpg') center/cover no-repeat fixed;
  background-blend-mode: overlay;
  background-color: rgba(255, 240, 245, 0.63);
  background-size: 400% 400%;
  animation: gradientBG 12s ease infinite;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

* {
  -webkit-tap-highlight-color: rgba(0,0,0,0);
}

@keyframes gradientBG {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Unlock Screen Styles */
.unlock-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 77, 136, 0.1);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 100;
  backdrop-filter: blur(5px);
}

.unlock-container {
  background: rgba(255, 255, 255, 0.262);
  border-radius: 20px;
  padding: 30px;
  width: 400px;
  box-shadow: 0 15px 30px rgba(255, 105, 180, 0.3);
  text-align: center;
  border: 1px solid rgba(255, 255, 255, 0.3);
  transform: scale(1);
  transition: transform 0.3s;
}

.unlock-container:hover {
  transform: scale(1.02);
}

.unlock-title {
  color: #ff4d88;
  font-family: 'Poppins', cursive;
  font-size: 2.5rem;
  margin-bottom: 20px;
  text-shadow: 0 0 5px rgba(255, 77, 136, 0.3);
}

.pin-display {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-bottom: 20px;
}

.pin-box {
  width: 50px;
  height: 50px;
  border: 2px solid #ff4d8859;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  color: #ff4d88;
  background: rgba(255, 255, 255, 0.438);
  transition: all 0.3s;
}

.pin-box.filled {
  background-color: #ff4d8837;
  transform: scale(1.1);
}

.message {
  margin-top: 20px;
  color: #ff4d88;
  font-weight: bold;
  min-height: 20px;
  opacity: 0;
  transition: opacity 0.3s;
}

.message.show {
  opacity: 1;
}

.keypad {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 15px;
  margin-top: 5px;
}

.key {
  background-color: #ff4d8837;
  border: none;
  border-radius: 50%;
  width: 70px;
  height: 70px;
  font-size: 30px;
  color: #ca4974;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto;
  -webkit-user-select: none;
  user-select: none;
}

.key:hover {
  background: linear-gradient(to bottom, #ff85a2, #ff4d88);
  color: white;
  transform: scale(1.1);
}

.key:active {
  transform: scale(0.95);
}

.key.special {
  background: linear-gradient(to bottom, #ff85a2, #ff4d88);
  color: white;
}

/* Birthday Page Styles */
.birthday-page {
  display: none;
  position: relative;
  overflow: hidden;
}

.birthday-title {
  text-align: center;
  color: #ff4d88;
  font-family: 'Poppins', cursive;
  font-size: 3rem;
  margin: 5px 0 10px;
  animation: glow 2s infinite alternate;
  padding: 0 20px;
}

@keyframes glow {
  from { text-shadow: 0 0 5px #ff4d88; }
  to { text-shadow: 0 0 15px #ff85a2, 0 0 20px #ff4d88; }
}

@keyframes heartbeat {
  0% { transform: scale(1); }
  25% { transform: scale(1.05); }
  50% { transform: scale(1); }
  75% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

.lovess img {
  max-width: 200px;
  border-radius: 50%;
  margin: 0 auto;
  display: block;
  border: 5px solid #ff4d88;
  box-shadow: 0 0 20px rgba(255, 77, 136, 0.5);
  animation: float 3s ease-in-out infinite;
}

@keyframes float {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-15px); }
  100% { transform: translateY(0px); }
}

.content {
  display: block;
  max-width: 600px;
  margin: 0 auto;
  padding: 20px;
}

.box {
  width: 100%;
  max-width: 500px;
  margin: 0 auto 30px auto;
  background: rgba(255, 255, 255, 0.262);
  border-radius: 20px;
  padding: 25px;
  box-shadow: 0 10px 30px rgba(255, 105, 180, 0.3);
  transition: all 0.3s;
}

.box:hover {
  transform: translateY(-10px) scale(1.01);
  box-shadow: 0 15px 35px rgba(255, 105, 180, 0.4);
}

.box h2 {
  color: #ff4d88;
  margin-bottom: 20px;
  font-family: 'Poppins', cursive;
  font-size: 2rem;
  text-align: center;
}

.link-box {
  background: rgba(255, 255, 255, 0.438);
  padding: 30px;
  border-radius: 12px;
  margin-bottom: 15px;
  cursor: pointer;
  transition: all 0.3s;
  box-shadow: 0 4px 8px rgba(0,0,0,0.05);
}

.link-box:hover {
  background: linear-gradient(to right, #ffe5f0, #ffdde9);
  transform: translateX(5px) scale(1.02);
  box-shadow: 0 8px 15px rgba(255, 77, 136, 0.3);
}

.link-box strong {
  display: block;
  font-size: 1.1rem;
  color: #ff4d88;
  margin-bottom: 5px;
}

.link-box small {
  color: #a38f8f;
  font-size: 0.9rem;
}

/* Memories Grid */
.memories-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
  margin-top: 20px;
  width: 100%;
}

.memory-item {
  cursor: pointer;
  background: rgba(255, 255, 255, 0.438);
  border-radius: 15px;
  overflow: hidden;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  transition: transform 0.3s, box-shadow 0.3s;
  width: 100%;
  font-family: 'Poppins', cursive;
}

.memory-item:hover {
  transform: translateY(-5px) scale(1.02);
  box-shadow: 0 8px 15px rgba(255, 77, 136, 0.3);
  background: linear-gradient(to right, #ffe5f0, #ffdde9);
}

.memory-item img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  transition: transform 0.5s;
}

.memory-item:hover img {
  transform: scale(1.05);
}

.memory-caption {
  padding: 15px;
  text-align: center;
}

.memory-caption strong {
  color: #ff4d88;
  display: block;
  margin-bottom: 5px;
}

.memory-caption span {
  color: #5a3d3d;
  font-size: 0.9rem;
  font-family: 'Poppins', cursive;
  font-size: 20px;
}

/* Animations */
.hearts, .balloons, .fireworks {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: -1;
}

.heart {
  position: absolute;
  font-size: 20px;
  color: rgba(255, 77, 136, 0.6);
  animation: fall linear infinite;
}

@keyframes fall {
  to {
    transform: translateY(100vh);
  }
}

/* Balloons */
.balloon {
  position: absolute;
  width: 40px;
  height: 50px;
  background: #ff4d88;
  border-radius: 50%;
  animation: floatUp 8s linear infinite;
  opacity: 0.7;
}

.balloon:before {
  content: "";
  position: absolute;
  width: 2px;
  height: 30px;
  background: #ff4d88;
  bottom: -30px;
  left: 50%;
  transform: translateX(-50%);
}

@keyframes floatUp {
  0% { transform: translateY(100vh) rotate(0deg); }
  100% { transform: translateY(-100px) rotate(360deg); }
}

/* Fireworks */
.firework {
  position: absolute;
  width: 5px;
  height: 5px;
  border-radius: 50%;
  box-shadow: 0 0 10px 5px rgba(255, 77, 136, 0.7);
  animation: explode 1s ease-out forwards;
  opacity: 0;
}

@keyframes explode {
  0% { transform: scale(0); opacity: 1; }
  100% { transform: scale(20); opacity: 0; }
}

/* Confetti */
.confetti {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1000;
  display: none;
}

.confetti-piece {
  position: absolute;
  width: 10px;
  height: 10px;
  background-color: #ff4d88;
  opacity: 0;
  animation: confetti-fall 3s ease-in-out forwards;
}

@keyframes confetti-fall {
  0% {
    transform: translateY(-100px) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(100vh) rotate(360deg);
    opacity: 0;
  }
}

/* Modal Styles */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.7);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 999;
  backdrop-filter: blur(5px);
  animation: fadeIn 0.3s;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.modal {
  font-family: 'Poppins', cursive;
  font-size: 30px;
  background: rgba(255, 255, 255, 0.798);
  border-radius: 15px;
  padding: 30px;
  width: 90%;
  max-width: 500px;
  position: relative;
  text-align: center;
  box-shadow: 0 15px 40px rgba(0,0,0,0.2);
  animation: slideUp 0.4s;
}

@keyframes slideUp {
  from { transform: translateY(50px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

.close-btn {
  position: absolute;
  top: 20px;
  right: 20px;
  background: rgba(255, 77, 136, 0.8);
  color: white;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 24px;
  cursor: pointer;
  z-index: 1001;
  border: none;
  transition: all 0.3s ease;
}

.close-btn:hover {
  background: #ff4d88;
  transform: rotate(90deg) scale(1.1);
}

.modal h2 {
  color: #ff4d88;
  font-family: 'Dancing Script', cursive;
  font-size: 2.5rem;
  margin-bottom: 20px;
}

.modal p {
  font-size: 1.1rem;
  line-height: 1.6;
  color: #5a3d3d;
  min-height: 100px;
}

.entery {
  margin-left: 5%;
  font-size: 50px;
  color: #ff4d88;
  font-family: 'Poppins', cursive;
  margin-top: 2%;
  animation: glow 2s infinite alternate;
}

/* Expanded Image Styles */
.expanded-image-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.457);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  animation: fadeIn 0.3s ease-out;
}

.expanded-image-container {
  position: relative;
  max-width: 90%;
  max-height: 90%;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.expanded-image {
  max-width: 100%;
  max-height: 80vh;
  object-fit: contain;
  border-radius: 8px;
  box-shadow: 0 5px 30px rgba(255, 105, 180, 0.3);
  transition: transform 0.3s ease;
  cursor: default;
}

.expanded-image:hover {
  transform: scale(1.02);
}

.expanded-caption {
  background: white;
  color: #5a3d3d;
  font-family: 'Poppins', cursive;
  font-size: 15px;
  padding: 15px 20px;
  border-radius: 8px;
  margin-top: 20px;
  max-width: 80%;
  text-align: center;
  backdrop-filter: blur(5px);
}

.expanded-caption strong {
  color: #ff85a2;
  display: block;
  font-size: 1.2rem;
  margin-bottom: 5px;
}

.expanded-caption span {
  font-size: 1rem;
  opacity: 0.9;
}

.close-expanded {
  position: absolute;
  top: 20px;
  right: 20px;
  background: rgba(255, 77, 136, 0.8);
  color: white;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 24px;
  cursor: pointer;
  z-index: 1001;
  border: none;
  transition: all 0.3s ease;
}

.close-expanded:hover {
  background: #ff4d88;
  transform: rotate(90deg) scale(1.1);
}

@keyframes fadeInZoom {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.expanded-image-container {
  animation: fadeInZoom 0.3s ease-out;
}

.about-title {
  color: #ff4d88;
  margin-bottom: 20px;
  font-family: 'Poppins', cursive;
  font-size: 2rem;
  text-align: center;
}

.about {
  color: #5a3d3d;
  width: 100%;
  max-width: 80%;
  margin: 0 auto 30px auto;
  background: rgba(255, 255, 255, 0.262);
  border-radius: 20px;
  padding: 25px;
  box-shadow: 0 10px 30px rgba(255, 105, 180, 0.3);
  transition: all 0.3s;
  font-family: 'Poppins', cursive;
  font-size: larger;
}

/* Shake Animation for Wrong PIN */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  20% { transform: translateX(-10px); }
  40% { transform: translateX(10px); }
  60% { transform: translateX(-10px); }
  80% { transform: translateX(10px); }
}

/* Mobile Responsive Styles */
@media (max-width: 768px) {
  .unlock-container {
    width: 85%;
    padding: 20px;
  }

  .birthday-title {
    font-size: 2.2rem;
  }

  .memories-grid {
    grid-template-columns: 1fr;
  }

  .key {
    width: 60px;
    height: 60px;
    font-size: 1.5rem;
  }

  .pin-box {
    width: 40px;
    height: 40px;
    font-size: 20px;
  }
  
  .entery {
    font-size: 1.8rem;
    margin-left: 5%;
    margin-right: 5%;
    text-align: center;
  }
  
  .content {
    padding: 10px;
  }
  
  .box {
    width: 95%;
    padding: 15px;
  }
  
  .modal {
    width: 95%;
    padding: 20px;
    font-size: 1.2rem;
  }
  
  .about {
    max-width: 95%;
    padding: 15px;
    font-size: 1rem;
  }
  
  .expanded-image-container {
    width: 95%;
  }
  
  .expanded-caption {
    max-width: 95%;
    font-size: 1rem;
  }
}

@media (max-width: 480px) {
  .unlock-title {
    font-size: 2rem;
  }
  
  .birthday-title {
    font-size: 1.8rem;
  }
  
  .entery {
    font-size: 1.5rem;
  }
  
  .key {
    width: 50px;
    height: 50px;
    font-size: 20px;
  }
  
  .pin-box {
    width: 30px;
    height: 30px;
    font-size: 16px;
  }
  
  .lovess img {
    max-width: 180px;
  }
  
  .link-box {
    padding: 20px;
  }
  
  .memory-caption span {
    font-size: 1rem;
  }
}

/* Prevent iOS text size adjust */
@media screen and (-webkit-min-device-pixel-ratio:0) {
  select,
  textarea,
  input {
    font-size: 16px;
  }
}
</style>
  </style>
</head>
<body>
  <!-- Unlock Screen -->
  <div class="unlock-screen" id="unlockScreen">
    <div class="unlock-container">
      <h1 class="unlock-title">Unlock :)</h1>
      <div class="pin-display" id="pinDisplay">
  <div class="pin-box"></div>
  <div class="pin-box"></div>
  <div class="pin-box"></div>
  <div class="pin-box"></div>
</div>

      <div class="message" id="message"></div>
      
      <div class="keypad">
        <button class="key" onclick="addToPin(1)">1</button>
        <button class="key" onclick="addToPin(2)">2</button>
        <button class="key" onclick="addToPin(3)">3</button>
        <button class="key" onclick="addToPin(4)">4</button>
        <button class="key" onclick="addToPin(5)">5</button>
        <button class="key" onclick="addToPin(6)">6</button>
        <button class="key" onclick="addToPin(7)">7</button>
        <button class="key" onclick="addToPin(8)">8</button>
        <button class="key" onclick="addToPin(9)">9</button>
        <button class="key special" onclick="clearPin()">×</button>
        <button class="key" onclick="addToPin(0)">0</button>
        <button class="key special" onclick="checkPin()">:)</button>
      </div>
    </div>
  </div>

  <!-- Birthday Page (hidden initially) -->
  <div class="birthday-page" id="birthdayPage">
    <div class="hearts" id="hearts"></div>
    <div class="confetti" id="confetti"></div>
    <div class="entery">On Jully 14 2005, <br>
         &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;earth got gifted a very special person</div>
    <h1 class="birthday-title">
      Happy 20th birthday Maryem :)</h1>
    <div class="lovess"><img src="hihi.gif" alt=""></div>
  </H1>
<audio id="bgMusic" loop>
  <source src="song.mp3" type="audio/mpeg">
</audio>
    <div class="content">
      <!-- Birthday Messages Box -->
      <div class="box">
        <h2>For You :)</h2>
        <div class="link-box" onclick="showLoveLetter()">
          <strong>My Sweetheart</strong>
          <small>open :)</small>
        </div>
        <div class="link-box" onclick="showForeverLetter()">
          <strong>My Beautiful Girl</strong>
          <small>open :)</small>
        </div>
      </div>

     <!-- Memories Box -->
<div class="box">
  <h2>Our Beautiful Memories :)</h2>
  <div class="memories-grid">
     <div class="memory-item">
      <img src="epi.jpeg" alt="epi">
      <div class="memory-caption">
        <strong>First time met</strong>
        <span>On 23 september EPI in the class when i asked you about the wifi qr code</span>
      </div>
    </div>
     <div class="memory-item">
      <img src="cinema.jpeg" alt="Cinema">
      <div class="memory-caption">
        <strong>Cinema</strong>
        <span>This was the first time that we went to the cinema</span>
      </div>
    </div>
     <div class="memory-item">
      <img src="eating.jpeg" alt="eating">
      <div class="memory-caption">
        <strong>Eating</strong>
        <span>This was the first time eating together and front of each other</span>
      </div>
    </div>
    <!-- Memory 1 -->
    <div class="memory-item">
      <img src="flowers.jpeg" alt="Flowers">
      <div class="memory-caption">
        <strong>Flowers</strong>
        <span>This was the first time I gave you flowers</span>
      </div>
    </div>
    
    <!-- Memory 2 -->
    <div class="memory-item">
      <img src="us.jpeg" alt="Pictures of Us">
      <div class="memory-caption">
        <strong>Pictures of Us</strong>
        <span>When we went inside a small box and took pictures with different symbols</span>
      </div>
    </div>
    
    <!-- Memory 3 -->
    <div class="memory-item">
      <img src="games.jpeg" alt="Playing">
      <div class="memory-caption">
        <strong>Playing</strong>
        <span>This was the first time playing against each other in real life and you won</span>
      </div>
    </div>
    
    <!-- Memory 4 -->
   
  </div>
</div>

    <!-- Modal 1: My Sweetheart -->
    <div id="love-modal" class="modal-overlay">
      <div class="modal">
        <button class="close-btn" onclick="closeLoveModal()">×</button>
        <h2>My Sweetheart</h2>
        
        <p id="love-text"></p>
         <img src="hug.gif" style="margin-right: 0;border: 5px solid #ff4d88;">
      </div>
    </div>

    <!-- Modal 2: My Beautiful Girl -->
    <div id="forever-modal" class="modal-overlay">
      <div class="modal">
        <button class="close-btn" onclick="closeForeverModal()">×</button>
        <h2>My Beautiful Girl</h2>
        <p id="forever-text"></p>
         <img src="sleep.gif" style="margin-right: 0; border: 5px solid #ff4d88;" >
      </div>
    </div>

    <!-- Modal 3: Surprise -->
    <div id="surprise-modal" class="modal-overlay">
      <div class="modal">
        <button class="close-btn" onclick="closeSurpriseModal()">×</button>
        <h2>Your Surprise! 🎁</h2>
        <p id="surprise-text"></p>
      </div>
    </div>
  </div>
<!-- Expanded Image View -->
<div class="expanded-image-overlay" id="expandedImageOverlay">
  <button class="close-expanded" onclick="closeExpandedImage()">×</button>
  <div class="expanded-image-container">
    <img class="expanded-image" id="expandedImage" src="" alt="Expanded Memory">
    <div class="expanded-caption" id="expandedCaption"></div>
  </div>
</div>
<div class="about"> <div class="about-title">About Maryem:</div>
Her beauty isn’t just in her face it’s in the way she speaks, cares, and exists. She’s made of softness, soul, and something the world rarely gives.<br>

She carries kindness without effort the kind that makes you feel safe, understood, and wanted, without needing to ask. <br>
Every little thing she does has meaning  the way she smiles, the way she worries, the way she stays close. <br>

She’s not loud, but her presence speaks louder than anything. <br>
She brings peace like a warm sunset  gentle, glowing, and unforgettable. <br>
There’s something in her eyes that makes the world quiet like time pauses when she looks at. <you class="br"></you> <not class="br"></not>
And when she smiles, it’s like the world forgets its pain. And when she’s near, you feel like you’re exactly where you’re meant to be. <br>

She is the kind of girl you don’t just love you admire her, you thank the universe for her, you look at her and wonder how someone so real could exist in your life.

She’s not just Maryem. <br>
She’s my Maryem. <br>
And loving her is the most beautiful thing I’ve ever done.</div>
  <script>
    
    // Create falling hearts
    function createHearts() {
      const heartsContainer = document.getElementById('hearts');
      const count = 30;
      
      for (let i = 0; i < count; i++) {
        const heart = document.createElement('div');
        heart.classList.add('heart');
        heart.innerHTML = '❤️';
        heart.style.left = Math.random() * 100 + 'vw';
        const fallDuration = Math.random() * 3 + 5; // between 5-8s
        heart.style.animation = `fall ${fallDuration}s linear infinite, sway 4s ease-in-out infinite`;
        heart.style.opacity = Math.random() * 0.5 + 0.3;
        heart.style.fontSize = Math.random() * 20 + 10 + 'px';
        heartsContainer.appendChild(heart);
      }
    }

    // Create confetti
    function createConfetti() {
      const confettiContainer = document.getElementById('confetti');
      confettiContainer.style.display = 'block';
      confettiContainer.innerHTML = '';
      
      const count = 100;
      const colors = ['#ff4d88', '#ff85a2', '#ffb6c1', '#ffd700', '#87cefa'];
      
      for (let i = 0; i < count; i++) {
        const piece = document.createElement('div');
        piece.classList.add('confetti-piece');
        piece.style.left = Math.random() * 100 + 'vw';
        piece.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        piece.style.animationDuration = Math.random() * 2 + 2 + 's';
        piece.style.animationDelay = Math.random() * 0.5 + 's';
        piece.style.width = Math.random() * 10 + 5 + 'px';
        piece.style.height = Math.random() * 10 + 5 + 'px';
        piece.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
        confettiContainer.appendChild(piece);
      }
    }

    // Initialize animations
    createHearts();

    // PIN code logic
    let pin = '';
    const correctPin = '6464';
    const pinDisplay = document.getElementById('pinDisplay');
    const message = document.getElementById('message');
    const unlockScreen = document.getElementById('unlockScreen');
    const birthdayPage = document.getElementById('birthdayPage');

    function addToPin(number) {
      if (pin.length < 4) {
    pin += number;
    updatePinDisplay();
    
    // Add visual feedback for each key press
    const boxes = document.querySelectorAll('.pin-box');
    boxes[pin.length - 1].classList.add('filled');
    setTimeout(() => {
      boxes[pin.length - 1].classList.remove('filled');
    }, 200);
    
    // Play a subtle click sound
    playSound('click');
  }
}

    function clearPin() {
      pin = '';
      updatePinDisplay();
      message.textContent = '';
    }

 function updatePinDisplay() {
  const boxes = document.querySelectorAll('.pin-box');
  boxes.forEach((box, i) => {
    box.innerHTML = pin[i] ? '❤️' : '';
  });
}


    function checkPin() {
      if (pin.length < 4) {
        message.textContent = 'Please enter 4 digits';
        return;
      }

      if (pin === correctPin) {
        message.textContent = 'Correct! Unlocking your gift...';
        createConfetti();
          // Play the background music
        const bgMusic = document.getElementById('bgMusic');
        bgMusic.volume = 0.3; // Set volume to 30%
        bgMusic.play().catch(e => console.log("Auto-play prevented:", e));
        // Show birthday page after 2 seconds
        setTimeout(() => {
          unlockScreen.style.display = 'none';
          birthdayPage.style.display = 'block';
        }, 2000);
        
      } else {
        message.textContent = 'Incorrect code, try again';
        pin = '';
        updatePinDisplay();
        
        // Shake animation for wrong PIN
        pinDisplay.style.animation = 'shake 0.5s';
        setTimeout(() => {
          pinDisplay.style.animation = '';
        }, 500);
      }
    }

    // Add shake animation for wrong PIN
    const style = document.createElement('style');
    style.textContent = `
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        20% { transform: translateX(-10px); }
        40% { transform: translateX(10px); }
        60% { transform: translateX(-10px); }
        80% { transform: translateX(10px); }
      }
    `;
    document.head.appendChild(style);

    // Birthday page functionality
    // Carousel

    
    let current = 0;
    
    function showMemory(index) {
      const img = document.getElementById("memory-img");
      const caption = document.getElementById("memory-caption");
      img.src = images[index].url;
      caption.innerHTML = `<strong>${images[index].title}</strong><span>${images[index].desc}</span>`;
    }
    
    function next() {
      current = (current + 1) % images.length;
      showMemory(current);
      resetCarouselInterval();
    }
    
    function prev() {
      current = (current - 1 + images.length) % images.length;
      showMemory(current);
      resetCarouselInterval();
    }

    // Auto-rotate carousel
    let carouselInterval = setInterval(next, 5000);
    
    function resetCarouselInterval() {
      clearInterval(carouselInterval);
      carouselInterval = setInterval(next, 5000);
    }

    // Typing Modal: My Sweetheart
    const loveMessage = "To my sweetheart💗, From the very first time we talked, I knew something was different. You didn’t just walk into my life you became my calm, my light, and my favorite reason to smile. You’ve taught me what love really means: patience, softness, and being there even when words don’t come easy. I’m so thankful for the way you trust me, the way you lean on me, and the way your eyes say everything your lips don’t. I love you more than I could ever write. And today, I just hope you feel it with every word, every memory, and every piece of this day that’s just for you.Happy birthday sweety love you mwh.";
    let loveIndex = 0;
    let loveInterval;
    let isTypingLove = true;

    function showLoveLetter() {
      resetCarouselInterval();
      document.getElementById("love-modal").style.display = "flex";
      document.getElementById("love-text").innerText = "";
      loveIndex = 0;
      isTypingLove = true;

      loveInterval = setInterval(() => {
        if (loveIndex < loveMessage.length) {
          document.getElementById("love-text").innerHTML += loveMessage.charAt(loveIndex);
          loveIndex++;
        } else {
          clearInterval(loveInterval);
          isTypingLove = false;
        }
      }, 30);
    }

    function skipLoveTyping() {
      if (isTypingLove) {
        clearInterval(loveInterval);
        document.getElementById("love-text").innerText = loveMessage;
        isTypingLove = false;
      }
    }

    function closeLoveModal() {
      document.getElementById("love-modal").style.display = "none";
      clearInterval(loveInterval);
    }

    // Typing Modal: My Beautiful Girl
    const foreverMessage = "To my beautiful girl🌸, you are the melody in my life’s song, the color in every ordinary day, and the reason my heart feels full. Today, I celebrate you — your laugh, your light, your love. May this year bring you every bit of joy you give me, all the success you dream of, and love that never fades. I promise to be by your side through it all cheering for every little victory, and holding you through every storm. I love you more than words could ever say. Happy Birthday Maryem, MWH. 💖";
    let foreverIndex = 0;
    let foreverInterval;
    let isForeverTyping = true;

    function showForeverLetter() {
      resetCarouselInterval();
      document.getElementById("forever-modal").style.display = "flex";
      document.getElementById("forever-text").innerText = "";
      foreverIndex = 0;
      isForeverTyping = true;

      foreverInterval = setInterval(() => {
        if (foreverIndex < foreverMessage.length) {
          document.getElementById("forever-text").innerHTML += foreverMessage.charAt(foreverIndex);
          foreverIndex++;
        } else {
          clearInterval(foreverInterval);
          isForeverTyping = false;
        }
      }, 30);
    }

    function skipForeverTyping() {
      if (isForeverTyping) {
        clearInterval(foreverInterval);
        document.getElementById("forever-text").innerText = foreverMessage;
        isForeverTyping = false;
      }
    }

    function closeForeverModal() {
      document.getElementById("forever-modal").style.display = "none";
      clearInterval(foreverInterval);
    }

    // Typing Modal: Surprise
    const surpriseMessage = "Your surprise is... a romantic weekend getaway! 🏖️ I've booked us a cozy beachside cabin for next month. Pack your bags for sun, sand, and lots of cuddles! This is just a small way to show how much I appreciate you. I can't wait to create more beautiful memories together. 💑";
    let surpriseIndex = 0;
    let surpriseInterval;
    let isSurpriseTyping = true;

    function showSurpriseLetter() {
      resetCarouselInterval();
      document.getElementById("surprise-modal").style.display = "flex";
      document.getElementById("surprise-text").innerText = "";
      surpriseIndex = 0;
      isSurpriseTyping = true;

      surpriseInterval = setInterval(() => {
        if (surpriseIndex < surpriseMessage.length) {
          document.getElementById("surprise-text").innerHTML += surpriseMessage.charAt(surpriseIndex);
          surpriseIndex++;
        } else {
          clearInterval(surpriseInterval);
          isSurpriseTyping = false;
        }
      }, 30);
    }

    function skipSurpriseTyping() {
      if (isSurpriseTyping) {
        clearInterval(surpriseInterval);
        document.getElementById("surprise-text").innerText = surpriseMessage;
        isSurpriseTyping = false;
      }
    }

    function closeSurpriseModal() {
      document.getElementById("surprise-modal").style.display = "none";
      clearInterval(surpriseInterval);
    }
 // Expanded Image Functionality - Improved
function expandImage(imageSrc, title, description) {
  const overlay = document.getElementById('expandedImageOverlay');
  const img = document.getElementById('expandedImage');
  const caption = document.getElementById('expandedCaption');
  
  // Preload the image for smoother experience
  const preloadImg = new Image();
  preloadImg.src = imageSrc;
  preloadImg.onload = function() {
    img.src = imageSrc;
    caption.innerHTML = `<strong>${title}</strong><span>${description}</span>`;
    overlay.style.display = 'flex';
    document.body.style.overflow = 'hidden'; // Prevent scrolling
    
   
  };
}

function closeExpandedImage() {
  const overlay = document.getElementById('expandedImageOverlay');
  overlay.style.display = 'none';
  document.body.style.overflow = ''; // Re-enable scrolling
  
  // Resume background music if it was playing
  const bgMusic = document.getElementById('bgMusic');
  if (bgMusic.paused && document.getElementById('birthdayPage').style.display === 'block') {
    bgMusic.play().catch(e => console.log("Auto-play prevented:", e));
  }
}

// Close when clicking outside image (but not on the image itself)
document.getElementById('expandedImageOverlay').addEventListener('click', function(e) {
  if (e.target === this) {
    closeExpandedImage();
  }
});

// Add click event to all memory items
document.addEventListener('DOMContentLoaded', function() {
  const memoryItems = document.querySelectorAll('.memory-item');
  memoryItems.forEach(item => {
    const img = item.querySelector('img');
    const title = item.querySelector('strong').textContent;
    const desc = item.querySelector('span').textContent;
    
    img.addEventListener('click', function(e) {
      e.stopPropagation();
      expandImage(this.src, title, desc);
    });
  });
});
  </script>
</body>
</html>
